<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Whefi</title>

  <!-- Bootstrap core CSS -->
  <link href="./bootstrap.min.css" rel="stylesheet">
           <link href="./styles.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
      <link href="./styles.css" rel="stylesheet">

      <!-- start analytics.google-->

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140415229-2"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-140415229-2');
</script>
    <!-- end analytics.google-->
	   <!--favIcon start -->
    <link rel="apple-touch-icon" sizes="57x57" href="favIcons/9/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="favIcons/9/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="favIcons/9/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="favIcons/9/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="favIcons/9/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="favIcons/9/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="favIcons/9/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="favIcons/9/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favIcons/9/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="favIcons/9/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favIcons/9/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="favIcons/9/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favIcons/9/favicon-16x16.png">
    <link rel="manifest" href="favIcons/9/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="favIcons/9/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <!-- FAVICON End -->

<!-- Internal CSS -->

<style>
.contactForm {
    padding: 2%;
}
.contactBtn{
    margin-left:40%;
}

input[type="text"],
input[type="email"]{
width: 80%;
margin: 1rem auto;
border-top: none;
border-right: none;
border-left: none;
}
form input[type='submit']{
	margin-top: 1rem;
}
</style>
<!-- Internal CSS End -->


</head>

<body>

   <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light bg-info static-top">
    <div class="container">
<a class="navbar-brand text-light font-weight-bold" 
         href="http://www.whefi.com"
         target="_blank">
          <img src="header_Logo.svg" 
               width="30" 
               height="30"
               class="d-inline-block"
               alt='whefi logo'>
          Whefi</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
	  
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link text-dark font-weight-bold" href="./index.html">Home
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark font-weight-bold" href="./about.html">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark font-weight-bold" href="./products.html">products</a>
          </li>
          <li class="nav-item active ">
            <a class="nav-link text-light font-weight-bold" href="#">Contact
                  <span class="sr-only">(current)</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container">
       <h1 class="mt-5 text-center" >Contact us</h1>
<p class="contactText">We are looking forward to hearing from you </p>
<p class="contactText">Visit our social media or send us an email </p>
    <div class="row">
     
    
     
      <div class="col-lg-12 text-center">
         <ul class="list-group">
  <li class="list-group-item"><p class="card-text"> <a href="mailto:contact@whefi.com" target="_top">contact@whefi.com</a></p></li>
  <li class="list-group-item"><a target="_blank" rel="noopener noreferrer" href="https://fb.me/WhefiDotCom">Facebook</a></li>
  <li class="list-group-item"><a target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/company/whefi/">LinkedIn</a></li>
  <li class="list-group-item"><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/WhefiDotCom">Twiiter</a>
</li>
</ul>
      </div>
    </div>
  </div>
  
  <!-- Form -->
  
    <form 
    class="contactForm"
    id="contactForm" 
    >
    <div class="form-group">
        <label for="exampleFormControlTextarea1">Feedback</label>
        <div>
        <input 
        type="text" 
        id="userName" 
        name="userName"
        placeholder="Name"
        required
        /> 
      </div>
        <div>
          <input 
          type="email" 
          id="userEmail" 
          name="userEmail"
          placeholder="E-mail"
          required
          /> 
        </div>
        <textarea 
            class="form-control" 
            id="contactTextArea" 
            rows="3"
            required>
        </textarea>
        <input 
            type="submit" 
            class="btn btn-info contactBtn"
            value="Send"
        />
  </div>
  <p id="formMsg"></p>
</form>
  <!-- End Form -->
 
<!-- Footer -->
<footer class="page-footer font-small cyan darken-3 text-center">
  <!-- Footer Elements -->
  <div class="container">
    <!-- Grid row-->
    <div class="row">
      <!-- Grid column -->
      <div class="col-md-12 py-5">
        <div class="mb-5 flex-center">
          <!-- Facebook -->
          <a class="fb-ic" href="https://fb.me/WhefiDotCom">
            <i class="fab fa-facebook-f fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
          </a>
          <!-- Twitter -->
          <a class="tw-ic" href="https://twitter.com/WhefiDotCom">
            <i class="fab fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
          </a>   
          <!--Linkedin -->
          <a class="li-ic" href="https://www.linkedin.com/company/whefi/">
            <i class="fab fa-linkedin-in fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
          </a>    
        </div>
      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row-->

  </div>
  <!-- Footer Elements -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3 text-center">Â© 2019 Copyright:
    <a href="http://Whefi.com"> Whefi.com</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->

  <!-- Bootstrap core JavaScript -->
  <script src="./jquery.slim.min.js"></script>
  <script src="./bootstrap.bundle.min.js"></script>
  <script>
      
checkEmail = (email) => {
  //https://www.w3resource.com/javascript/form/email-validation.php
  if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email))
  {
    return (true)
  }
    return (false)
}

clearForm = (array) =>{
//Erase all form fields
  return array.forEach(element => {
          const DOMElement = document.getElementById(element);
          if(!DOMElement){
            return;
          }
          DOMElement.value = ''; 
          });
}
submitHandling = (e) => {
      e.preventDefault();
      //Declaring variables
      let emailContent =  document.getElementById('contactTextArea').value;
      const request = 'https://eu-gb.functions.appdomain.cloud/api/v1/web/ahmed.mohamed.gaber%40gmail.com_dev/default/sendRmail2';
      const userName =  document.getElementById('userName').value;
      const userEmail =  document.getElementById('userEmail').value;
      const formMsg =  document.getElementById('formMsg');
      //Check if the user's email is a valid email
      const flag = checkEmail(userEmail);
      if(!flag){
        return formMsg.innerText = 'Please enter a vaild email'
      }
      const data = { emailText : `New response from whefi.org
        Name: ${userName}
        Email: ${userEmail}
        Feedback: 
        ${emailContent}`};

       	fetch(request,{
                method: 'POST',
                headers: {
                'Content-Type': 'application/json',
                },
                body:JSON.stringify(data),
            })
        .then(response => {
            if (!response.ok) {
              throw new Error('HTTP error, status = ' + response.status);
            }
            console.log('res',response);
            clearForm(['contactTextArea', 'userName','userEmail']);
            formMsg.innerText = 'Message sent successfully!';
      	})
        .catch(err => {
            console.log('error',err);
            formMsg.innerText = 'sorry We have encountered an error'
        });
      return false;
}
  document.getElementById('contactForm').addEventListener("submit", submitHandling);
  </script>

</body>

</html>





